# SDSS-Classification

This project applies the photometric classification technique from Gonz√°lez-Gaitan 
2014 on SDSS data to identify peculiar Type Ia Supernovae (SNe Ia).

## Todo:
- SNCosmo will raise occasional warnings about poor fits, bad S/N, and dropped bands. These warnings are currently being logged but otherwise ignored and need to be handled correctly.
- If a redshift for a supernova is not available, SNCosmo is instructed to fit for the redshift. A prior needs to be provided for the redshift.
- The `num_points_<band>` column in the fit summary tables contain the number of data points per observer frame band. We are interested in the number of points in the rest frame.
- We are currently fitting data with SNCosmo's built-in 91bg model, but would like to use our own custom model. This custom model is currently used to simulate SNANA light curves.
- Determine what K-correction was used in the published SDSS fit results and improve the quality of fits with large chi-squared compared to published results.


## File List / Overview

#### *data_access/* 

A python 2.7 module for accessing SDSS and DES supernova data. Data is downloaded
automatically if it is not locally available. An example of accessing SDSS data
is provided below. Note that the DES interface is the same, except that there
is no DES master table.

```python
from data_access import sdss_data

# Summary table of SDSS SN data
print(sdss_data.master_table) 

# Get data for a specific object
print(sdss_data.get_data_for_id(685))

# Iterable of SNCosmo input tables for each target
for table in sdss_data.iter_sncosmo_input():
    print(table)
```

#### snana/ 

Simulating 91bg light curves using the SNANA Fortran package

- **sim_91bg.input:** An input file to SNANA that generates simulation results
- **snana_results/:** Directory of simulation results generated by *sim_91bg.input*
- **SNANA_plots.ipynb:** Plots exploring 91bg simulation results.



#### SNCosmo/

Fitting SDSS data with the SNcosmo python package

- **fit_sdss.py:** Uses SNCosmo to fit SDSSS light curves with a normal sn Ia model and the builtin 91bg model in the `ug`, `riz`, and `ugriz` rest frame bands.
- **sncosmo_results.ipynb:** Compares fit results between the normal and 91bg models in different bands.
- **sncosmo_vs_sdss.ipynb:** Compares fit results with published SDSS results.
